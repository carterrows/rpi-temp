services:
  pi-stats-monitor:
    build: .
    ports:
      - "9000:9000"
    restart: unless-stopped
    volumes:
      # Adjust the host path if `which vcgencmd` returns a different location.
      - "/usr/bin/vcgencmd:/usr/bin/vcgencmd:ro"
      # Fan RPM via sysfs; mount /sys read-only so hwmon path resolution works.
      - "/sys:/sys:ro"
    devices:
      # On Raspberry Pi 5 the firmware device is /dev/vcio; on older Pis use /dev/vchiq.
      - "/dev/vcio:/dev/vcio"
    # Uncomment if additional permissions are required:
    # privileged: true
